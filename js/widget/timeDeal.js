define("widget/timeDeal",[],function(){function s(s,u,f){var l,c,h,p,d=0,v=s+"_"+u,m={day:"0",hour:"00",min:"00",sec:"00",base:0};return i[v]?d=i[v]:(typeof u=="undefined"?d=s*1:d=o(u).getTime()-o(s).getTime(),i[v]=d),d-=f||0,m.base=d,d=Math.abs(d),d>0&&(l=d/e>>0,c=(d-l*e)/t>>0,h=(d-l*e-c*t)/n>>0,p=(d-l*e-c*t-h*n)/r>>0,m.day=a(l,m.day.length),m.hour=a(c,m.hour.length),m.min=a(h,m.min.length),m.sec=a(p,m.sec.length)),m}function o(e){try{var t;if(typeof e=="object"&&typeof e.getTime=="function")return e;e>>0?e.toString().length==10?e*=1e3:e*=1:e=e.replace(/-/g,"/");if(e){t=new Date(e);if(t!="Invalid Date")return t;console.warn("日期格式错误:",e)}else console.warn("不能为空!")}catch(n){console.warn(n)}}function u(e,t){var n,r,i={},t=t||"!y-M-d h:m:s.S",s=o(e);if(s){i={y:s.getFullYear(),M:s.getMonth()+1,d:s.getDate(),h:s.getHours(),m:s.getMinutes(),s:s.getSeconds(),q:Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()},t.charAt(0)==="!"?(n=a,t=t.slice(1)):n=function(e,t){return("00000"+e).slice(-t)};for(r in i)(new RegExp("("+r+"+)")).test(t)&&(t=t.replace(RegExp.$1,n(i[r],RegExp.$1.length)));return i.fmt=t,i}}function a(e,t){for(var n=e.toString().length;n<t;n++)e="0"+e;return e}function f(e){var t=new Date(parseInt(e.replace("/Date(","").replace(")/","").split("+")[0]));return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var e=864e5,t=36e5,n=6e4,r=1e3,i={};return{setTime:s,getDate:u,patchZero:a,examine:o,formatTime:f}});